<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <title>Chatbot Tutorial</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/atom-one-dark.min.css">
</head>
<body>
	<header>
        <div class="container">
            <div id="title">
                <h1>Planex</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="../../../">Home</a></li>
                    <li><a href="../../../games">Games</a></li>
                    <li><a href="../../">Blog</a></li>
                </ul>
            </nav>
        </div>
    </header>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>
	<div class="text">
		<center>
			<br>
			<h2>Making a chatbot!</h2>
			<p>You will need to use pip to install chatterbot, pyttsx3, and speechrecognition.</p>
			<p>You will need to download <a href="code/conversations.yml" download>conversations.yml</a>, <a href="code/endings.yml" download>endings.yml</a> and <a href="code/greetings.yml" download>greetings.yml</a>.</p>
			<br>
			<br>
			<h2>Part one: Including</h2>
			<pre>
				<code>from chatterbot.trainers import ChatterBotCorpusTrainer
from chatterbot import ChatBot

import pyttsx3
import speech_recognition as sr
import os</code>
			</pre>
			<br>
			<br>
			<h2>Part two: Initiating</h2>
			<pre>
				<code>engine = pyttsx3.init("sapi5")
voices = engine.getProperty("voices")
engine.setProperty("rate", 178)
engine.setProperty("voice", voices[0].id)</code>
			</pre>
			<br>
			<br>
			<h2>Part three: Making functions</h2>
			<pre>
				<code>def speak(audio):
	engine.say(audio)
	engine.runAndWait()

def takecommand():
	r = sr.Recognizer()
	with sr.Microphone() as source:
		print("Listening...")
		audio = r.listen(source)
	try:
		query = r.recognize_google(audio)
		print(f"You: {query}")
	except Exception as e:
		print("Please repeat that...")
		return "none"
	return query</code>
			</pre>
			<br>
			<br>
			<h2>Part four: Bot training</h2>
			<pre>
				<code>bot = ChatBot(
"ChatBot",
	logic_adapters=[
		"chatterbot.logic.BestMatch",
		"chatterbot.logic.MathematicalEvaluation"
	]
)

trainer = ChatterBotCorpusTrainer(bot)

trainer.train("./greetings.yml", "./endings.yml", "./conversations.yml")</code>
			</pre>
			<br>
			<br>
			<h2>Part five: Finishing off</h2>
			<pre>
				<code>while True:
	inp = takecommand().lower()
	if(inp.lower() == "quit"):
		break
	else:
		response = bot.get_response(inp)
		print(response.confidence) #shows confidence of bot!

		print("Bot:", response)
		speak(response)</code>
			</pre>
		</center>
	</div>
	<br>
	<br>
	<br>
	<footer>
        Planex
    </footer>
</body>
</html>
